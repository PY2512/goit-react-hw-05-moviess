"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[369],{2010:function(e,t,r){r.d(t,{Z:function(){return c}});var n={wrapper:"Error_wrapper__Wc1dD",message:"Error_message__Yybg9"},a=r(1284),s=r(184);var c=function(e){var t=e.message;return(0,s.jsxs)("div",{role:"alert",className:n.wrapper,children:[(0,s.jsx)("img",{src:a,width:"650",alt:"not found pic",className:n.img}),(0,s.jsx)("p",{text:t,className:n.message,children:t})]})}},907:function(e,t,r){r.d(t,{Z:function(){return l}});var n=r(1523),a="MoviesListItem_listItem__xJPuT",s="MoviesListItem_poster__IvMQJ",c="MoviesListItem_title__n4mMR",u=r(4757),i=r(184),o=function(e){var t=e.poster,r=e.id,o=e.title,p=e.name,l=e.releaseDate,f=e.url,d=e.location;return(0,i.jsx)("li",{className:a,children:(0,i.jsxs)(n.rU,{to:{pathname:"".concat(f,"/").concat(r),state:{from:d}},children:[(0,i.jsx)("img",{src:t?"https://image.tmdb.org/t/p/w500/".concat(t):u,alt:o||p,className:s}),(0,i.jsxs)("h2",{className:c,children:[o||p,l&&(0,i.jsxs)("span",{children:[" (",l.slice(0,4),")"]})]})]})})},p="MoviesList_list__NF6km",l=function(e){var t=e.movies,r=e.url,n=e.location;return(0,i.jsx)("ul",{className:p,children:t.map((function(e){var t=e.title,a=e.name,s=e.poster_path,c=e.id,u=e.release_date;return(0,i.jsx)(o,{title:t,name:a,releaseDate:u,id:c,poster:s,url:r,location:n},c)}))})}},5886:function(e,t){t.Z={IDLE:"idle",PENDING:"pending",RESOLVED:"resolved",REJECTED:"rejected"}},1508:function(e,t,r){r.d(t,{Hx:function(){return f},hd:function(){return p},vw:function(){return o},wr:function(){return i},xc:function(){return l}});var n=r(5861),a=r(7757),s=r.n(a),c=r(4569),u=r.n(c);u().defaults.baseURL="https://api.themoviedb.org/3",u().defaults.params={api_key:"566ba5d0201ff094da11311999c70e6f"};var i=function(){var e=(0,n.Z)(s().mark((function e(){var t,r,n,a=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:1,e.next=3,u().get("/trending/all/day?page=".concat(t));case 3:return r=e.sent,n=r.data,e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),o=function(){var e=(0,n.Z)(s().mark((function e(t){var r,n,a,c=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:1,e.next=3,u().get("/search/movie?language=en-US&page=".concat(r,"&include_adult=false&query=").concat(t));case 3:return n=e.sent,a=n.data,e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=(0,n.Z)(s().mark((function e(t){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u().get("/movie/".concat(t));case 3:if(200!==(r=e.sent).status){e.next=7;break}return console.log("result",r.status),e.abrupt("return",r.data);case 7:e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=(0,n.Z)(s().mark((function e(t){var r,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u().get("/movie/".concat(t,"/credits"));case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=(0,n.Z)(s().mark((function e(t){var r,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u().get("/movie/".concat(t,"/reviews"));case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},9279:function(e,t,r){r.r(t),r.d(t,{default:function(){return _}});var n=r(1413),a=r(5861),s=r(885),c=r(7757),u=r.n(c),i=r(2791),o=r(8931),p=r(59),l=r(1508),f=r(5886),d=r(907),v=r(6675),m=r(2010),h="HomeView_title__3vm2A",g="HomeView_wrapper__fwIOw",x=r(184);var _=function(){var e,t=(0,i.useState)([]),r=(0,s.Z)(t,2),c=r[0],_=r[1],w=(0,i.useState)(f.Z.PENDING),Z=(0,s.Z)(w,2),E=Z[0],j=Z[1],N=(0,i.useState)(null),b=(0,s.Z)(N,2),k=b[0],D=b[1],y=(0,i.useState)(0),I=(0,s.Z)(y,2),L=I[0],R=I[1],S=(0,o.k6)(),C=(0,o.TH)(),M=null!==(e=new URLSearchParams(C.search).get("page"))&&void 0!==e?e:1;return(0,i.useEffect)((function(){j(f.Z.PENDING);var e=function(){var e=(0,a.Z)(u().mark((function e(){var t,r,n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,l.wr)(M);case 3:t=e.sent,r=t.results,n=t.total_pages,_(r),R(n),j(f.Z.RESOLVED),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),D(e.t0),j(f.Z.REJECTED);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();e()}),[M]),(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("h2",{className:h,children:"Trending today"}),E===f.Z.PENDING&&(0,x.jsx)(v.Z,{}),E===f.Z.REJECTED&&k&&(0,x.jsx)(m.Z,{message:k}),E===f.Z.RESOLVED&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(d.Z,{movies:c,url:"movies",location:"/"}),L>1&&(0,x.jsx)("div",{className:g,children:(0,x.jsx)(p.Z,{count:L,onChange:function(e,t){S.push((0,n.Z)((0,n.Z)({},C),{},{search:"page=".concat(t)}))},page:Number(M),showFirstButton:!0,showLastButton:!0})})]})]})}},4757:function(e,t,r){e.exports=r.p+"static/media/no-poster.31ee8645a0c24dadecaf.jpg"},1284:function(e,t,r){e.exports=r.p+"static/media/not-found.f9d5f7d5b86e8fe73adc.jpg"}}]);
//# sourceMappingURL=homeView.d702d067.chunk.js.map